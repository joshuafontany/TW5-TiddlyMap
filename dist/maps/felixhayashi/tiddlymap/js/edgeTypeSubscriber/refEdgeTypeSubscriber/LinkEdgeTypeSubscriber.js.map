{"version":3,"sources":["felixhayashi/tiddlymap/js/edgeTypeSubscriber/refEdgeTypeSubscriber/LinkEdgeTypeSubscriber.js"],"names":["Object","defineProperty","exports","value","LinkEdgeTypeSubscriber","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_AbstractRefEdgeTypeSubscriber","require","_AbstractRefEdgeTypeSubscriber2","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_AbstractRefEdgeTypeS","allEdgeTypes","options","this","getPrototypeOf","priority","canHandle","edgeType","id","getReferences","tObj","toWL","typeWL","toRefs","$tw","wiki","getTiddlerLinks","fields","title","tw-body:link","AbstractRefEdgeTypeSubscriber"],"mappings":"AAAA,aAEAA,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,OAETD,QAAQE,uBAAyBC,UAEjC,IAAIC,SAAWN,OAAOO,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAQ,CAAE,GAAIZ,OAAOc,UAAUC,eAAeC,KAAKJ,EAAQC,GAAM,CAAEL,EAAOK,GAAOD,EAAOC,KAAY,OAAOL,GAEvP,IAAIS,aAAe,WAAc,SAASC,EAAiBV,EAAQW,GAAS,IAAK,IAAIV,EAAI,EAAGA,EAAIU,EAAMR,OAAQF,IAAK,CAAE,IAAIW,EAAaD,EAAMV,GAAIW,EAAWC,WAAaD,EAAWC,YAAc,MAAOD,EAAWE,aAAe,KAAM,GAAI,UAAWF,EAAYA,EAAWG,SAAW,KAAMvB,OAAOC,eAAeO,EAAQY,EAAWP,IAAKO,IAAiB,OAAO,SAAUI,EAAaC,EAAYC,GAAe,GAAID,EAAYP,EAAiBM,EAAYV,UAAWW,GAAa,GAAIC,EAAaR,EAAiBM,EAAaE,GAAc,OAAOF,GAA7gB,GAGnB,IAAAG,+BAAAC,QAAA,sEACA,IAAIC,gCAAkCC,uBAAuBH,gCAE7D,SAASG,uBAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEE,QAASF,GAEvF,SAASG,gBAAgBC,EAAUX,GAAe,KAAMW,aAAoBX,GAAc,CAAE,MAAM,IAAIY,UAAU,sCAEhH,SAASC,2BAA2BC,EAAMtB,GAAQ,IAAKsB,EAAM,CAAE,MAAM,IAAIC,eAAe,6DAAgE,OAAOvB,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOsB,EAEzO,SAASE,UAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIN,UAAU,kEAAoEM,GAAeD,EAAS3B,UAAYd,OAAO2C,OAAOD,GAAcA,EAAW5B,UAAW,CAAE8B,YAAa,CAAEzC,MAAOsC,EAAUpB,WAAY,MAAOE,SAAU,KAAMD,aAAc,QAAW,GAAIoB,EAAY1C,OAAO6C,eAAiB7C,OAAO6C,eAAeJ,EAAUC,GAAcD,EAASK,UAAYJ;;;;;;;;;;wBAoBje,IAnBMtC,uBAmBuB,SAAU2C,GACrCP,UAAUpC,EAAwB2C,GAflC,SAAA3C,EAAY4C,GAA4B,IAAdC,EAAcvC,UAAAC,OAAA,GAAAD,UAAA,KAAAL,UAAAK,UAAA,GAAJ,GAAIwB,gBAAAgB,KAAA9C,GAAA,OAAAiC,2BAAAa,MAAA9C,EAAA0C,WAAA9C,OAAAmD,eAAA/C,IAAAY,KAAAkC,KAChCF,EADgC1C,SAAA,CAChB8C,SAAU,IAAOH,KAgCzChC,aAAab,EAAwB,CAAC,CACpCS,IAAK,YACLV,MAAO,SAASkD,EA5BRC,GAER,OAAOA,EAASC,KAAO,iBAmCtB,CACD1C,IAAK,gBACLV,MAAO,SAASqD,EA9BJC,EAAMC,EAAMC,GAExB,GAAIA,IAAWA,EAAO,gBAAiB,CACrC,OAGF,IAAIC,EAASC,IAAIC,KAAKC,gBAAgBN,EAAKO,OAAOC,OAElD,IAAKL,IAAWA,EAAOjD,OAAQ,CAC7B,OAGF,MAAO,CAAEuD,eAAgBN,OAkC3B,OAAOxD,EAhDoB,CAnBQ+D,gCAAAA,SAwErCjE,QAhCSE,uBAAAA","file":"../../../../../../felixhayashi/tiddlymap/js/edgeTypeSubscriber/refEdgeTypeSubscriber/LinkEdgeTypeSubscriber.js","sourcesContent":["/* @preserve TW-Guard */\n/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/modules/edge-type-handler/body/link\ntype: application/javascript\nmodule-type: tmap.edgetypehandler\n\n@preserve\n\n\\*/\n/* @preserve TW-Guard */\n\nimport AbstractRefEdgeTypeSubscriber from '$:/plugins/felixhayashi/tiddlymap/js/AbstractRefEdgeTypeSubscriber';\n\n/**\n * The LinkEdgeTypeSubscriber deals with connections that are stored inside\n * a tiddler' text field.\n *\n * Note: This subscriber only retrieves edges, however doesn't store or delete them.\n *\n * @see http://tiddlymap.org/#tw-body\n */\nclass LinkEdgeTypeSubscriber extends AbstractRefEdgeTypeSubscriber {\n\n  /**\n   * @inheritDoc\n   */\n  constructor(allEdgeTypes, options = {}) {\n    super(allEdgeTypes, { priority: 20, ...options });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  canHandle(edgeType) {\n\n    return edgeType.id === 'tw-body:link';\n\n  }\n\n  /**\n   * @inheritDoc\n   */\n  getReferences(tObj, toWL, typeWL) {\n\n    if (typeWL && !typeWL['tw-body:link']) {\n      return;\n    }\n\n    var toRefs = $tw.wiki.getTiddlerLinks(tObj.fields.title);\n\n    if (!toRefs || !toRefs.length) {\n      return;\n    }\n\n    return { 'tw-body:link': toRefs };\n\n  }\n}\n\n/*** Exports *******************************************************/\n\nexport { LinkEdgeTypeSubscriber };\n"],"sourceRoot":"../../../../../../../src/plugins"}